# 就活管理アプリ - 実装計画 (TODO)

## 📋 目次
- [優先度A: 緊急度高（MVP完成に向けた機能）](#優先度a-緊急度高mvp完成に向けた機能)
- [優先度B: 中程度（UX改善）](#優先度b-中程度ux改善)
- [優先度C: Post-MVP（将来的な拡張機能）](#優先度c-post-mvp将来的な拡張機能)
- [優先度D: 長期的な機能拡張](#優先度d-長期的な機能拡張)

---

## 優先度A: 緊急度高（MVP完成に向けた機能）

### A1. ダッシュボード機能の完成
**ファイル:** `src/renderer/pages/DashboardPage.tsx:150`

- [ ] **ダッシュボードへのカレンダー統合**
  - タスク: ダッシュボードに月間カレンダーウィジェットを追加
  - 実装内容:
    - `DashboardPage.tsx`に既存の`CalendarPage`コンポーネントをインポート
    - カレンダーの縮小版を表示（月表示のみ、ドラッグ＆ドロップは無効化）
    - カレンダーイベントクリックで詳細モーダルを表示
  - 推定工数: 4時間

- [ ] **ダッシュボードへの今後のイベント一覧追加**
  - タスク: 今後7日間のイベント一覧を表示
  - 実装内容:
    - `getUpcomingEvents(limit: 7)`関数をIPCで実装
    - イベントカードコンポーネントを作成（イベント名、企業名、日時、リマインダーステータス）
    - 「もっと見る」ボタンでカレンダーページへ遷移
  - 推定工数: 3時間

- [ ] **ダッシュボードのクイックアクション機能**
  - タスク: よく使う操作へのショートカットを追加
  - 実装内容:
    - 「新規企業追加」ボタン
    - 「新規イベント追加」ボタン
    - 「新規ES作成」ボタン
    - 各ボタンクリックで対応するモーダルまたはページを開く
  - 推定工数: 2時間

### A2. 企業ページからのイベント・ES登録
**ファイル:** `src/renderer/pages/CompanyDetailPage.tsx`

- [ ] **企業詳細ページのイベントタブ実装**
  - タスク: 企業に紐付くイベントの登録・一覧表示
  - 実装内容:
    - 企業詳細ページに「イベント」タブを追加
    - `getEventsByCompany(companyId)`関数を実装
    - イベント一覧表示（タイムライン形式）
    - 「+ イベント追加」ボタンでモーダルを開く（`companyId`を自動設定）
    - イベント編集・削除機能
  - 推定工数: 5時間

- [ ] **企業詳細ページのESタブ実装**
  - タスク: 企業に紐付くESの登録・一覧表示
  - 実装内容:
    - 企業詳細ページに「ES」タブを追加
    - `getESEntriesByCompany(companyId)`関数を実装
    - ES一覧表示（カード形式：タイトル、ステータス、最終更新日）
    - 「+ ES追加」ボタンでESエディタページへ遷移（`companyId`を自動設定）
    - ES編集・削除機能
  - 推定工数: 4時間

- [ ] **企業詳細ページの面接ノートタブ実装**
  - タスク: 企業に紐付く面接ノートの登録・一覧表示
  - 実装内容:
    - 企業詳細ページに「面接ノート」タブを追加
    - `getInterviewNotesByCompany(companyId)`関数を実装
    - 面接ノート一覧表示（日付順）
    - 「+ 面接ノート追加」ボタンでエディタモーダルを開く
    - 質問・回答ペアの動的追加機能
    - 評価スコア入力（5段階）
    - Next Actionメモ欄
  - 推定工数: 6時間

### A3. テスト環境の構築
**優先度: 高** - 現在テストが全く存在しない

- [ ] **Jest設定とユニットテストの基盤構築**
  - タスク: Jestの設定と基本的なテストの作成
  - 実装内容:
    - `jest.config.js`の設定
    - `@testing-library/react`のセットアップ
    - DBアクセス層のモック作成
    - 主要なユーティリティ関数のテスト作成
  - 推定工数: 8時間

- [ ] **主要コンポーネントのユニットテスト作成**
  - タスク: 重要なコンポーネントのテスト作成
  - 実装内容:
    - `CompanyCard.test.tsx`
    - `EventModal.test.tsx`
    - `CalendarView.test.tsx`
    - `DashboardPage.test.tsx`
  - 推定工数: 12時間

---

## 優先度B: 中程度（UX改善）

### B1. 設定ページの拡張

- [ ] **プロフィール編集機能**
  - タスク: ユーザー名とメールアドレスの編集
  - 実装内容:
    - 設定ページに「プロフィール」セクション追加
    - ユーザー名編集フォーム
    - メールアドレス編集フォーム（バリデーション付き）
    - `updateUserProfile(userId, data)`関数の実装
  - 推定工数: 3時間

- [ ] **デフォルトリマインダー時間設定**
  - タスク: イベント作成時のデフォルトリマインダー時間を設定
  - 実装内容:
    - 設定ページに「通知設定」セクション追加
    - デフォルトリマインダー時間の選択（15分前、30分前、1時間前、1日前、カスタム）
    - `users.settings`カラムに保存
    - イベント作成時にデフォルト値を自動適用
  - 推定工数: 4時間

- [ ] **データインポート機能**
  - タスク: JSON/CSV形式でのデータインポート
  - 実装内容:
    - 設定ページに「データ管理」セクション追加
    - 「インポート」ボタンとファイル選択ダイアログ
    - JSON/CSV パーサーの実装
    - データバリデーションとエラーハンドリング
    - インポートプレビュー機能
    - 重複チェックと上書き/スキップオプション
  - 推定工数: 8時間

- [ ] **自動バックアップ設定**
  - タスク: 定期的な自動バックアップの設定
  - 実装内容:
    - 設定ページに「バックアップ」セクション追加
    - 自動バックアップON/OFF切り替え
    - バックアップ頻度設定（毎日、毎週、毎月）
    - バックアップ保存先の選択
    - `node-cron`を使った自動バックアップスケジューラの実装
    - バックアップ履歴の表示
  - 推定工数: 6時間

### B2. 通知機能の拡張

- [ ] **通知履歴ページの作成**
  - タスク: 送信済み・失敗した通知の一覧表示
  - 実装内容:
    - 新規ページ`NotificationHistoryPage.tsx`を作成
    - サイドバーに「通知履歴」リンク追加
    - 通知一覧表示（ステータス、送信日時、イベント名、エラーメッセージ）
    - ステータスフィルター（すべて、送信済み、保留中、失敗）
    - 失敗した通知の再送信ボタン
  - 推定工数: 5時間

- [ ] **複数リマインダー設定機能**
  - タスク: 1つのイベントに複数のリマインダーを設定可能にする
  - 実装内容:
    - イベントモーダルに「リマインダー追加」ボタンを追加
    - リマインダー一覧表示（時間、削除ボタン）
    - 各リマインダーごとに`notifications`レコードを作成
    - リマインダーのバリデーション（同じ時間の重複チェック）
  - 推定工数: 4時間

### B3. カレンダー機能の拡張

- [ ] **週表示ビューの実装**
  - タスク: カレンダーに週単位の表示を追加
  - 実装内容:
    - カレンダーページに「月/週」切り替えボタン追加
    - 週表示のレイアウト実装（7日間の時間軸表示）
    - 週表示でのドラッグ&ドロップ対応
    - イベントの時間帯表示
  - 推定工数: 8時間

- [ ] **日表示ビューの実装**
  - タスク: カレンダーに日単位の詳細表示を追加
  - 実装内容:
    - カレンダーページに「月/週/日」切り替えボタン追加
    - 日表示のレイアウト実装（1日の時間軸詳細表示）
    - 30分単位のタイムスロット
    - イベントの詳細情報表示
  - 推定工数: 6時間

- [ ] **イベントタイプ別の色分け**
  - タスク: イベントタイプごとに異なる色で表示
  - 実装内容:
    - イベントタイプの定義（説明会、面接、ES締切、インターン、その他）
    - カラーパレットの設定
    - カレンダー表示にタイプ別の色を適用
    - 凡例の表示
  - 推定工数: 3時間

### B4. ES管理の改善

- [ ] **ESテンプレート機能**
  - タスク: よく使う質問のテンプレートを保存・再利用
  - 実装内容:
    - 新規テーブル`es_templates`を作成（id, user_id, title, content, category）
    - テンプレート管理ページの作成
    - ESエディタにテンプレート挿入ボタンを追加
    - カテゴリ別のテンプレート整理（志望動機、自己PR、ガクチカなど）
  - 推定工数: 7時間

- [ ] **文字数カウント機能**
  - タスク: ES作成時にリアルタイムで文字数を表示
  - 実装内容:
    - リッチテキストエディタの内容から文字数を計算
    - エディタ下部に文字数表示（例: 「456 / 800文字」）
    - 上限設定機能（警告表示）
  - 推定工数: 2時間

---

## 優先度C: Post-MVP（将来的な拡張機能）

### C1. 認証・セキュリティの強化

- [ ] **OAuth認証（Google）の実装**
  - タスク: Googleアカウントでのログインを実装
  - 実装内容:
    - `@electron/oauth-handler`パッケージの導入
    - Google OAuth 2.0の設定
    - ログインページにGoogleログインボタン追加
    - OAuth認証フローの実装
    - ユーザー情報の取得と`users`テーブルへの保存
  - 推定工数: 10時間

- [ ] **OAuth認証（Microsoft）の実装**
  - タスク: Microsoftアカウントでのログインを実装
  - 実装内容:
    - Microsoft Graph API の設定
    - ログインページにMicrosoftログインボタン追加
    - OAuth認証フローの実装
  - 推定工数: 8時間

- [ ] **Slack OAuth統合**
  - タスク: Incoming WebhookからOAuthベースの通知へ移行
  - 実装内容:
    - Slack OAuthフローの実装
    - `chat.postMessage` APIの利用
    - ユーザーへのDM送信機能
    - チャンネル選択機能
    - トークンの安全な保存（Windows Credential Manager）
  - 推定工数: 12時間

- [ ] **データベース暗号化**
  - タスク: SQLiteデータベースの暗号化
  - 実装内容:
    - `sqlcipher`パッケージの導入
    - 暗号化キーの生成と管理
    - 既存データの暗号化マイグレーション
    - 設定ページに暗号化ON/OFFオプション追加
  - 推定工数: 10時間

- [ ] **Windows Credential Manager統合**
  - タスク: 機密情報の安全な保存
  - 実装内容:
    - `node-credential-manager`または`keytar`の導入
    - Slackトークン、パスワードをCredential Managerに保存
    - 既存のローカル保存からの移行
  - 推定工数: 6時間

### C2. 同期機能の実装

- [ ] **サーバー同期基盤の構築**
  - タスク: バックエンドAPIの構築
  - 実装内容:
    - Node.js + Express または NestJSでAPIサーバーを構築
    - PostgreSQLデータベースの設定
    - JWT認証の実装
    - `/sync` APIエンドポイントの実装
    - 差分同期ロジックの実装
  - 推定工数: 30時間

- [ ] **クライアント側同期ロジックの実装**
  - タスク: ローカルとサーバーの同期
  - 実装内容:
    - `sync_queue`テーブルの活用
    - オフライン時の変更をキューに積む
    - オンライン復帰時の自動同期
    - 衝突解決ロジック（タイムスタンプベース）
    - 同期状態の表示UI
  - 推定工数: 20時間

- [ ] **マルチデバイス対応**
  - タスク: 複数デバイス間でのデータ共有
  - 実装内容:
    - デバイス識別子の生成と管理
    - デバイス一覧表示機能
    - デバイスごとの最終同期時刻表示
    - デバイス削除機能
  - 推定工数: 10時間

### C3. テーマカスタマイズ

- [ ] **ダークモードの実装**
  - タスク: ダーク/ライトテーマの切り替え
  - 実装内容:
    - CSSカスタムプロパティでカラーテーマを定義
    - ダークモード用のカラーパレット作成
    - 設定ページにテーマ切り替えトグル追加
    - テーマ設定を`users.settings`に保存
    - 全コンポーネントのスタイル対応
  - 推定工数: 15時間

- [ ] **カスタムカラーテーマ**
  - タスク: ユーザーが自由にカラーを設定
  - 実装内容:
    - カラーピッカーコンポーネントの実装
    - プライマリカラー、セカンダリカラーのカスタマイズ
    - プレビュー機能
    - テーマプリセットの保存
  - 推定工数: 8時間

### C4. 多言語対応

- [ ] **i18nフレームワークの導入**
  - タスク: react-i18nextの導入
  - 実装内容:
    - `react-i18next`のインストールと設定
    - 言語ファイルの作成（ja.json, en.json）
    - 全UIテキストの翻訳キー化
    - 設定ページに言語切り替えドロップダウン追加
  - 推定工数: 20時間

- [ ] **英語翻訳の作成**
  - タスク: 全UIの英語訳
  - 実装内容:
    - `en.json`ファイルの作成
    - 全画面・全メッセージの翻訳
    - 日付・時刻フォーマットのロケール対応
  - 推定工数: 12時間

### C5. 統計・分析機能

- [ ] **統計ダッシュボードの作成**
  - タスク: 就活活動の統計を可視化
  - 実装内容:
    - 新規ページ`AnalyticsPage.tsx`を作成
    - Chart.jsまたはRechartsの導入
    - 月別応募企業数グラフ
    - 企業ステータス別の円グラフ
    - イベントタイプ別の集計
    - ES提出数の推移グラフ
  - 推定工数: 15時間

- [ ] **応募成功率の追跡**
  - タスク: 選考通過率の分析
  - 実装内容:
    - 企業ステータスの段階定義（応募→書類通過→面接→内定）
    - 各段階での通過率計算
    - ファネルチャートでの可視化
    - 業界別・企業規模別の分析
  - 推定工数: 10時間

- [ ] **時間分析機能**
  - タスク: 企業ごとの時間投資の可視化
  - 実装内容:
    - イベントの合計時間集計
    - 企業ごとの時間投資ランキング
    - 時間対効果の分析（内定/時間）
  - 推定工数: 8時間

### C6. 自動更新機能

- [ ] **electron-updaterの導入**
  - タスク: アプリの自動更新機能
  - 実装内容:
    - `electron-updater`のインストールと設定
    - GitHub Releasesとの連携
    - 更新チェックロジックの実装（起動時＋定期チェック）
    - 更新通知UIの作成
    - 自動ダウンロード＆インストール
    - リリースノートの表示
  - 推定工数: 12時間

- [ ] **バージョン管理とリリースノート**
  - タスク: バージョン履歴の管理
  - 実装内容:
    - `CHANGELOG.md`の作成
    - バージョン番号の自動更新スクリプト
    - リリースノート表示機能
    - アプリ内の「新機能」ページ
  - 推定工数: 6時間

---

## 優先度D: 長期的な機能拡張

### D1. リッチテキストエディタの高度な機能

- [ ] **画像の埋め込み**
  - タスク: ESに画像を直接埋め込み
  - 実装内容:
    - 画像アップロード機能
    - 画像のBase64エンコードまたはローカルファイル参照
    - リサイズ機能
  - 推定工数: 8時間

- [ ] **表の挿入**
  - タスク: テーブル形式のデータ入力
  - 実装内容:
    - テーブルエディタの実装
    - 行・列の追加/削除
    - セルの結合
  - 推定工数: 10時間

- [ ] **リンクプレビュー**
  - タスク: URLを貼り付けた際のプレビュー表示
  - 実装内容:
    - URLの自動検出
    - OGP情報の取得
    - プレビューカードの表示
  - 推定工数: 6時間

### D2. ESバージョン履歴

- [ ] **バージョン管理システムの実装**
  - タスク: ES編集の履歴を保存
  - 実装内容:
    - 新規テーブル`es_versions`を作成
    - 自動保存時にバージョン作成
    - バージョン一覧表示
    - 差分表示（diff）
    - 過去バージョンへの復元機能
  - 推定工数: 15時間

### D3. カレンダー共有機能

- [ ] **カレンダーエクスポート（iCal形式）**
  - タスク: GoogleカレンダーやOutlookと連携
  - 実装内容:
    - iCalendar形式でのエクスポート
    - イベントの定期的な同期
    - ics ファイルの生成
  - 推定工数: 10時間

- [ ] **公開カレンダーURL**
  - タスク: 他人と予定を共有
  - 実装内容:
    - サーバー側で公開カレンダー機能を実装
    - 公開URL生成
    - アクセス権限の管理
  - 推定工数: 12時間

### D4. AI支援機能

- [ ] **ES文章の添削機能**
  - タスク: AIによる文章改善提案
  - 実装内容:
    - OpenAI API との連携
    - 文章の添削・改善提案
    - 誤字脱字チェック
    - 文法チェック
  - 推定工数: 15時間

- [ ] **志望動機の自動生成アシスタント**
  - タスク: 企業情報から志望動機のドラフト生成
  - 実装内容:
    - 企業情報と自己分析を基にしたプロンプト生成
    - AIによるドラフト生成
    - ユーザーによる編集
  - 推定工数: 12時間

### D5. E2Eテストの導入

- [ ] **Playwrightの導入**
  - タスク: E2Eテスト環境の構築
  - 実装内容:
    - `@playwright/test`のインストール
    - Electronとの統合設定
    - テストヘルパー関数の作成
  - 推定工数: 8時間

- [ ] **主要フローのE2Eテスト作成**
  - タスク: クリティカルパスのテスト
  - 実装内容:
    - ログイン → 企業作成 → イベント作成フロー
    - ES作成 → 保存 → 編集フロー
    - 通知設定 → 通知送信フロー
    - データエクスポート → インポートフロー
  - 推定工数: 20時間

### D6. パフォーマンス最適化

- [ ] **仮想スクロールの実装**
  - タスク: 大量データの高速表示
  - 実装内容:
    - `react-window`の導入
    - 企業リストへの仮想スクロール適用
    - イベント一覧への適用
  - 推定工数: 8時間

- [ ] **ページネーション実装**
  - タスク: データ取得の最適化
  - 実装内容:
    - クエリに`LIMIT`と`OFFSET`を追加
    - ページネーションUIの実装
    - 無限スクロールオプション
  - 推定工数: 6時間

- [ ] **データベースインデックスの最適化**
  - タスク: クエリパフォーマンスの向上
  - 実装内容:
    - 頻繁に使われるクエリの分析
    - 適切なインデックスの追加
    - クエリ実行計画の確認
  - 推定工数: 4時間

---

## 📊 実装優先度マトリクス

| 優先度 | カテゴリ | 推定工数合計 | 主要機能数 |
|--------|----------|-------------|-----------|
| A（緊急）| MVP完成 | 約62時間 | 10機能 |
| B（中）| UX改善 | 約76時間 | 14機能 |
| C（低）| Post-MVP | 約243時間 | 21機能 |
| D（長期）| 拡張機能 | 約134時間 | 13機能 |
| **合計** | - | **約515時間** | **58機能** |

---

## 🚀 推奨実装順序

### フェーズ1: MVP完成（2-3週間）
1. ダッシュボード機能の完成（A1）
2. 企業ページからのイベント・ES登録（A2）
3. 基本的なテスト環境構築（A3の一部）

### フェーズ2: UX改善（3-4週間）
1. 設定ページの拡張（B1）
2. 通知機能の拡張（B2）
3. カレンダー機能の拡張（B3）
4. ES管理の改善（B4）

### フェーズ3: Post-MVP機能（8-10週間）
1. 認証・セキュリティの強化（C1）
2. テーマカスタマイズ（C3）
3. 統計・分析機能（C5）
4. 自動更新機能（C6）

### フェーズ4: 長期拡張（継続的開発）
1. 同期機能の実装（C2）
2. 多言語対応（C4）
3. AI支援機能（D4）
4. E2Eテストの拡充（D5）

---

## 📝 備考

### 技術的負債の解消
- [ ] TypeScript型定義の厳密化
- [ ] コンポーネントの再利用性向上
- [ ] コードの重複削除
- [ ] エラーハンドリングの統一
- [ ] ログ機能の実装

### ドキュメント整備
- [ ] APIドキュメントの作成
- [ ] コンポーネントカタログ（Storybook）
- [ ] ユーザーマニュアルの作成
- [ ] 開発者向けガイドの整備

---

**最終更新日:** 2025-11-24
**ステータス:** 実装計画策定完了 - レビュー待ち
